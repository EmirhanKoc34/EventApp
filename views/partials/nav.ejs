<nav class="navbar navbar-expand-lg custom-navbar" data-bs-theme="light">
    <div class="container">
        <div class="row w-100 align-items-center">
            <!-- Sol tarafta linkler -->
            <div class="col d-flex justify-content-start">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/galeri">Galeri</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/hakkimizda">Hakkımızda</a>
                    </li>
                </ul>
            </div>

            <!-- Ortada logo -->
            <div class="col d-flex justify-content-center">
                <a class="navbar-brand" href="/anasayfa">
                    <img src="/images/logo.png" alt="Logo" width="50" height="50" class="d-inline-block align-text-top">
                </a>
            </div>

            <!-- Sağ tarafta linkler ve login butonu -->
            <div class="col d-flex justify-content-end align-items-center">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/panel">Etkinlikler</a>
                    </li>
                    <li class="nav-item" id="etkinlikOnayPaneli">
                        <a class="nav-link" href="/etkinlikOnayPaneli">Etkinlik Onay Paneli</a>
                    </li>
                    <li class="nav-item" id="etkinlikOlustur">
                        <a class="nav-link" href="/etkinlik-olustur">Etkinlik Oluştur</a>
                    </li>
                </ul>
                <% if (loggedin) { %>
                    <%= username %>
                    <a href="/logout" class="btn btn-dark ms-3">Çıkış Yap</a>
                <% } else { %>
                    <a href="/login" class="btn btn-dark ms-3">Giriş Yap</a>
                <% } %>
                
            </div>
        </div>
    </div>
</nav>

<script>
    fetch("/isAdmin",
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            method: "POST",
        })
        .then(data => {
            if (data.redirected) {
                document.getElementById('etkinlikOnayPaneli').remove();
                return;
            }
        })
        .catch(err => {
            console.error("Hata:", err);
        });


    fetch("/isManager",
        {
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            method: "POST",
        })
        .then(data => {
            if (data.redirected) {
                document.getElementById('etkinlikOlustur').remove();
                return;
            }
        })
        .catch(err => {
            console.error("Hata:", err);
        });
</script>